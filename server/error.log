{"level":"error","message":"Error: User already exists","stack":"Error: User already exists\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:28:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: promisify is not defined","stack":"ReferenceError: promisify is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:95:19\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: promisify is not defined","stack":"ReferenceError: promisify is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:95:19\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: promisify is not defined","stack":"ReferenceError: promisify is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:95:19\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: promisify is not defined","stack":"ReferenceError: promisify is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:95:19\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:2:19\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: promisify is not defined","stack":"ReferenceError: promisify is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:95:19\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:70:17)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at node:internal/util:428:12\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:96:46\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:70:17)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at node:internal/util:428:12\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:96:46\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:70:17)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at node:internal/util:428:12\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:46\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: jwt expired","stack":"TokenExpiredError: jwt expired\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:190:21\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at node:internal/util:428:12\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:46\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)"}
{"level":"error","message":"Error: jwt expired","stack":"TokenExpiredError: jwt expired\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:190:21\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at node:internal/util:428:12\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:46\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)"}
{"level":"error","message":"Error: currentUser.changedPasswordAfter is not a function","stack":"TypeError: currentUser.changedPasswordAfter is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:105:20\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: userModel is not defined","stack":"ReferenceError: userModel is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:39:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: emailorPhone is not defined","stack":"ReferenceError: emailorPhone is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:27:60\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: Unexpected end of form","stack":"Error: Unexpected end of form\n    at Multipart._final (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/busboy/lib/types/multipart.js:588:17)\n    at callFinal (node:internal/streams/writable:757:12)\n    at prefinish (node:internal/streams/writable:769:7)\n    at finishMaybe (node:internal/streams/writable:779:5)\n    at Writable.end (node:internal/streams/writable:687:5)\n    at onend (node:internal/streams/readable:756:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Unexpected end of form","stack":"Error: Unexpected end of form\n    at Multipart._final (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/busboy/lib/types/multipart.js:588:17)\n    at callFinal (node:internal/streams/writable:757:12)\n    at prefinish (node:internal/streams/writable:769:7)\n    at finishMaybe (node:internal/streams/writable:779:5)\n    at Writable.end (node:internal/streams/writable:687:5)\n    at onend (node:internal/streams/readable:756:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:80:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: Can't find /api/v1/users/update-me on this server!","stack":"Error: Can't find /api/v1/users/update-me on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:34:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: you do not have permission to perform this action","stack":"Error: you do not have permission to perform this action\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:100:25\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:93:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: you do not have permission to perform this action","stack":"Error: you do not have permission to perform this action\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:25\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:93:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: existingUser is not defined","stack":"ReferenceError: existingUser is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/sellerController.js:12:3\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Can't find /api/v1/seller/login on this server!","stack":"Error: Can't find /api/v1/seller/login on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:40:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)"}
{"level":"error","message":"Error: Please provide both email or phone number and password","stack":"Error: Please provide both email or phone number and password\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/sellerController.js:39:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: you do not have permission to perform this action","stack":"Error: you do not have permission to perform this action\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:25\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:93:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: you do not have permission to perform this action","stack":"Error: you do not have permission to perform this action\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/sellerController.js:52:25\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:93:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: you do not have permission to perform this action","stack":"Error: you do not have permission to perform this action\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:25\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:93:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Can't find /api/v1/products on this server!","stack":"Error: Can't find /api/v1/products on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:40:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)"}
{"level":"error","message":"Error: Product validation failed: name: Product name must be at most 5 characters., description: Product description must be at most 500 characters.","stack":"ValidationError: Product validation failed: name: Product name must be at most 5 characters., description: Product description must be at most 500 characters.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Product validation failed: name: Product name must be at most 5 characters.","stack":"ValidationError: Product validation failed: name: Product name must be at most 5 characters.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Product validation failed: seller: Please provide the seller of the product.","stack":"ValidationError: Product validation failed: seller: Please provide the seller of the product.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: document not found","stack":"Error: document not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/factoryHandler.js:45:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: document not found","stack":"Error: document not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/factoryHandler.js:45:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: document not found","stack":"Error: document not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/factoryHandler.js:45:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: document not found","stack":"Error: document not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/factoryHandler.js:45:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: document not found","stack":"Error: document not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/factoryHandler.js:34:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cast to string failed for value \"{ query: 'shop' }\" (type Object) at path \"$text.$search\" for model \"Product\"","stack":"CastError: Cast to string failed for value \"{ query: 'shop' }\" (type Object) at path \"$text.$search\" for model \"Product\"\n    at castString (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/cast/string.js:36:9)\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schema/operators/text.js:24:19)\n    at cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/cast.js:97:13)\n    at Query.cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:4768:12)\n    at Query._castConditions (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:2200:10)\n    at model.Query._find (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:2226:8)\n    at model.Query.exec (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:4290:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:9:18"}
{"level":"error","message":"Error: Cast to string failed for value \"{ query: 'Product Name' }\" (type Object) at path \"$text.$search\" for model \"Product\"","stack":"CastError: Cast to string failed for value \"{ query: 'Product Name' }\" (type Object) at path \"$text.$search\" for model \"Product\"\n    at castString (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/cast/string.js:36:9)\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schema/operators/text.js:24:19)\n    at cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/cast.js:97:13)\n    at Query.cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:4768:12)\n    at Query._castConditions (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:2200:10)\n    at model.Query._find (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:2226:8)\n    at model.Query.exec (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:4290:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:9:18"}
{"level":"error","message":"Error: redis.getCache is not a function","stack":"TypeError: redis.getCache is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: redis.getCach is not a function","stack":"TypeError: redis.getCach is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: The client is closed","stack":"Error: The client is closed\n    at Commander._RedisClient_sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:511:31)\n    at Commander._RedisClient_legacySendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:477:105)\n    at Commander.sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:449:114)\n    at <computed> [as get] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:495:27)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at Commander.<anonymous> (node:internal/util:428:12)\n    at exports.getCach (/home/esmael/Documents/Project/Express/express_shop/server/src/cache/redisConfig.js:31:28)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5"}
{"level":"error","message":"Error: The client is closed","stack":"Error: The client is closed\n    at Commander._RedisClient_sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:511:31)\n    at Commander._RedisClient_legacySendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:477:105)\n    at Commander.sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:449:114)\n    at <computed> [as get] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:495:27)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at Commander.<anonymous> (node:internal/util:428:12)\n    at exports.getCach (/home/esmael/Documents/Project/Express/express_shop/server/src/cache/redisConfig.js:31:28)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5"}
{"level":"error","message":"Error: The client is closed","stack":"Error: The client is closed\n    at Commander._RedisClient_sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:511:31)\n    at Commander._RedisClient_legacySendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:477:105)\n    at Commander.sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:449:114)\n    at <computed> [as get] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:495:27)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at Commander.<anonymous> (node:internal/util:428:12)\n    at exports.getCach (/home/esmael/Documents/Project/Express/express_shop/server/src/cache/redisConfig.js:31:28)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5"}
{"level":"error","message":"Error: redis.getCach is not a function","stack":"TypeError: redis.getCach is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: The client is closed","stack":"Error: The client is closed\n    at Commander._RedisClient_sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:511:31)\n    at Commander._RedisClient_legacySendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:477:105)\n    at Commander.sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:449:114)\n    at <computed> [as get] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:495:27)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at Commander.<anonymous> (node:internal/util:428:12)\n    at exports.getCach (/home/esmael/Documents/Project/Express/express_shop/server/src/cache/redisConfig.js:31:28)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5"}
{"level":"error","message":"Error: The client is closed","stack":"Error: The client is closed\n    at Commander._RedisClient_sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:511:31)\n    at Commander._RedisClient_legacySendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:477:105)\n    at Commander.sendCommand (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:449:114)\n    at <computed> [as get] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/@redis/client/dist/lib/client/index.js:495:27)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at Commander.<anonymous> (node:internal/util:428:12)\n    at exports.getCach (/home/esmael/Documents/Project/Express/express_shop/server/src/cache/redisConfig.js:31:28)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:30:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5"}
{"level":"error","message":"Error: redis.getCach is not a function","stack":"TypeError: redis.getCach is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:31:31\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: redis.generateCachKeys is not a function","stack":"TypeError: redis.generateCachKeys is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/productController.js:32:23\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: Can't find /signup on this server!","stack":"Error: Can't find /signup on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:42:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at param (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express-fileupload/lib/index.js:35:14\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at cors (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:188:7)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:214:15)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at cookieParser (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:231:16)\n    at done (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:220:7)\n    at IncomingMessage.onEnd (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:280:7)\n    at IncomingMessage.emit (node:events:514:28)\n    at endReadableNT (node:internal/streams/readable:1408:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)"}
{"level":"error","message":"Error: Can't find /signup on this server!","stack":"Error: Can't find /signup on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:42:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at param (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express-fileupload/lib/index.js:35:14\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at serveStatic (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/serve-static/index.js:75:16)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at cors (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:188:7)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:214:15)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at cookieParser (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cookie-parser/index.js:57:14)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at urlencodedParser (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/read.js:137:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:231:16)\n    at done (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:220:7)\n    at IncomingMessage.onEnd (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:280:7)\n    at IncomingMessage.emit (node:events:514:28)\n    at endReadableNT (node:internal/streams/readable:1408:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:99:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:99:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:99:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: please provide a refresh token","stack":"Error: please provide a refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:122:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: jwtTokens.generateAccessToken is not a function","stack":"TypeError: jwtTokens.generateAccessToken is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:70:33"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:102:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:105:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:105:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:105:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:105:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: You are not logged in. Please log in to access.","stack":"Error: You are not logged in. Please log in to access.\n    at exports.protect (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:91:19)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)"}
{"level":"error","message":"Error: The user belonging to this token does not exist.","stack":"Error: The user belonging to this token does not exist.\n    at exports.protect (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: The user belonging to this token does not exist.","stack":"Error: The user belonging to this token does not exist.\n    at exports.protect (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: The user belonging to this token does not exist.","stack":"Error: The user belonging to this token does not exist.\n    at exports.protect (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: The user belonging to this token does not exist.","stack":"Error: The user belonging to this token does not exist.\n    at exports.protect (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:98:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:93:15\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:94:15\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: you are not logged in please login to get access","stack":"Error: you are not logged in please login to get access\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:94:15\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: tokens.verify is not a function","stack":"TypeError: tokens.verify is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:32\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: tokens.verify is not a function","stack":"TypeError: tokens.verify is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:32\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: jwtTokens.verify is not a function","stack":"TypeError: jwtTokens.verify is not a function\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:35\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Error: please provide a refresh token","stack":"Error: please provide a refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:122:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:104:3"}
{"level":"error","message":"Error: please provide a refresh token","stack":"Error: please provide a refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:122:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:104:3"}
{"level":"error","message":"Error: invalid signature","stack":"JsonWebTokenError: invalid signature\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at exports.verifyAccessToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/token.js:19:20)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:101:32\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)"}
{"level":"error","message":"Error: please provide a refresh token","stack":"Error: please provide a refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:122:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:103:3"}
{"level":"error","message":"Error: Invalid token. User ID not found in the token payload.","stack":"Error: Invalid token. User ID not found in the token payload.\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:104:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid token. User ID not found in the token payload.","stack":"Error: Invalid token. User ID not found in the token payload.\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:104:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid token. User ID not found in the token payload.","stack":"Error: Invalid token. User ID not found in the token payload.\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:104:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: invalid signature","stack":"JsonWebTokenError: invalid signature\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at exports.verifyAccessToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/token.js:19:20)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:123:24\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)"}
{"level":"error","message":"Error: invalid signature","stack":"JsonWebTokenError: invalid signature\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:123:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error: invalid signature","stack":"JsonWebTokenError: invalid signature\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:123:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error: invalid signature","stack":"JsonWebTokenError: invalid signature\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error: invalid signature","stack":"JsonWebTokenError: invalid signature\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:21\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error: invalid signature","stack":"JsonWebTokenError: invalid signature\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:171:19\n    at getSecret (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/verify.js:101:10)\n    at node:internal/util:442:7\n    at new Promise (<anonymous>)\n    at node:internal/util:428:12\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:44\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)"}
{"level":"error","message":"Error: Unauthorized - Missing or invalid token","stack":"Error: Unauthorized - Missing or invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:89:19)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:120:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:121:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:127:17)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)"}
{"level":"error","message":"Error: please provide a refresh token","stack":"Error: please provide a refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:145:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:122:5)"}
{"level":"error","message":"Error: please provide a refresh token","stack":"Error: please provide a refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:145:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:122:5)"}
{"level":"error","message":"Error: \"expiresIn\" should be a number of seconds or string representing a timespan","stack":"Error: \"expiresIn\" should be a number of seconds or string representing a timespan\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/sign.js:56:15\n    at Array.forEach (<anonymous>)\n    at validate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/sign.js:47:6)\n    at validateOptions (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/sign.js:62:10)\n    at module.exports [as sign] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/jsonwebtoken/sign.js:171:5)\n    at signToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/jwt.js:4:14)\n    at exports.createSendToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/jwt.js:10:17)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:11"}
{"level":"error","message":"Error: token.generateRefreshToken is not a function","stack":"TypeError: token.generateRefreshToken is not a function\n    at exports.createSendToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/jwt.js:29:30)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:11"}
{"level":"error","message":"Error: token.generateRefreshToken is not a function","stack":"TypeError: token.generateRefreshToken is not a function\n    at exports.createSendToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/jwt.js:29:30)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:11"}
{"level":"error","message":"Error: token.generateRefreshToken is not a function","stack":"TypeError: token.generateRefreshToken is not a function\n    at exports.createSendToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/jwt.js:29:30)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:11"}
{"level":"error","message":"Error: option expires is invalid","stack":"TypeError: option expires is invalid\n    at Object.serialize (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cookie/index.js:161:13)\n    at res.cookie (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/response.js:884:36)\n    at exports.createSendToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/jwt.js:43:7)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:11"}
{"level":"error","message":"Error: option expires is invalid","stack":"TypeError: option expires is invalid\n    at Object.serialize (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/cookie/index.js:161:13)\n    at res.cookie (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/response.js:884:36)\n    at exports.createSendToken (/home/esmael/Documents/Project/Express/express_shop/server/src/utils/jwt.js:43:7)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:81:11"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:116:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:117:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:160:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:121:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:116:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:127:17)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:116:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:116:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:117:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: please provide a refresh token","stack":"Error: please provide a refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:146:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:123:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:153:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: the user belonging to this token does not exist","stack":"Error: the user belonging to this token does not exist\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:154:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid refresh token","stack":"Error: Invalid refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:158:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid refresh token","stack":"Error: Invalid refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:161:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid refresh token","stack":"Error: Invalid refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:161:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid refresh token","stack":"Error: Invalid refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:161:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid refresh token","stack":"Error: Invalid refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:159:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid refresh token","stack":"Error: Invalid refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:159:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Expected double-quoted property name in JSON at position 188","stack":"SyntaxError: Expected double-quoted property name in JSON at position 188\n    at JSON.parse (<anonymous>)\n    at parse (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:231:16)\n    at done (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:220:7)\n    at IncomingMessage.onEnd (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:280:7)\n    at IncomingMessage.emit (node:events:514:28)\n    at endReadableNT (node:internal/streams/readable:1408:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
{"level":"error","message":"Error: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.","stack":"ValidationError: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.","stack":"ValidationError: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.","stack":"ValidationError: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.","stack":"ValidationError: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.","stack":"ValidationError: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.","stack":"ValidationError: User validation failed: phoneNumber: Please enter a valid 10-digit phone number.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: phoneNumber is not defined","stack":"ReferenceError: phoneNumber is not defined\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:34:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: you do not have permission to perform this action","stack":"Error: you do not have permission to perform this action\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:136:25\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:328:13)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:123:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at exports.authorize (/home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Please provide both email or phone number and password.","stack":"Error: Please provide both email or phone number and password.\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:49:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: Please provide both email or phone number and password.","stack":"Error: Please provide both email or phone number and password.\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:49:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/utils/catchAsync.js:3:5\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/index.js:175:3)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:126:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cast to Number failed for value \"shoper@example.com\" (type string) at path \"phoneNumber\" for model \"User\"","stack":"CastError: Cast to Number failed for value \"shoper@example.com\" (type string) at path \"phoneNumber\" for model \"User\"\n    at SchemaNumber.cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schema/number.js:380:11)\n    at SchemaType.applySetters (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1219:12)\n    at SchemaNumber.castForQuery (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schema/number.js:432:14)\n    at cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/cast.js:375:32)\n    at cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/cast.js:73:20)\n    at Query.cast (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:4768:12)\n    at Query._castConditions (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:2200:10)\n    at model.Query._findOne (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:2484:8)\n    at model.Query.exec (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/query.js:4290:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Can't find /api/v1/users/login on this server!","stack":"Error: Can't find /api/v1/users/login on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:42:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)"}
{"level":"error","message":"Error: Can't find /api/v1/users/login on this server!","stack":"Error: Can't find /api/v1/users/login on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:42:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)"}
{"level":"error","message":"Error: Can't find /api/v1/users/6589ee190419eb458b86d0de on this server!","stack":"Error: Can't find /api/v1/users/6589ee190419eb458b86d0de on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:42:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:117:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:117:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:117:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:117:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid user","stack":"Error: Unauthorized - Invalid user\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:117:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/userController.js:48:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'id')","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/userController.js:48:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Invalid refresh token","stack":"Error: Invalid refresh token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:157:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unexpected end of form","stack":"Error: Unexpected end of form\n    at Multipart._final (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/busboy/lib/types/multipart.js:588:17)\n    at callFinal (node:internal/streams/writable:757:12)\n    at prefinish (node:internal/streams/writable:769:7)\n    at finishMaybe (node:internal/streams/writable:779:5)\n    at Writable.end (node:internal/streams/writable:687:5)\n    at onend (node:internal/streams/readable:756:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Unexpected end of form","stack":"Error: Unexpected end of form\n    at Multipart._final (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/busboy/lib/types/multipart.js:588:17)\n    at callFinal (node:internal/streams/writable:757:12)\n    at prefinish (node:internal/streams/writable:769:7)\n    at finishMaybe (node:internal/streams/writable:779:5)\n    at Writable.end (node:internal/streams/writable:687:5)\n    at onend (node:internal/streams/readable:756:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'length')","stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/orderController.js:24:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'length')","stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/orderController.js:24:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Order validation failed: product: Cast to ObjectId failed for value \"laptop\" (type string) at path \"product\" because of \"BSONError\", totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Cast to ObjectId failed for value \"laptop\" (type string) at path \"product\" because of \"BSONError\", totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at model.$set (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:1458:12)\n    at model.$set (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:1115:16)\n    at model.Document (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:166:12)\n    at model.Model (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/model.js:125:12)\n    at new model (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/model.js:4602:15)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/model.js:2809:20\n    at Array.map (<anonymous>)\n    at Function.create (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/model.js:2797:34)\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/orderController.js:28:31"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Unexpected token ']', ...\"2},\n   \n  ],\n  \"quan\"... is not valid JSON","stack":"SyntaxError: Unexpected token ']', ...\"2},\n   \n  ],\n  \"quan\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:231:16)\n    at done (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:220:7)\n    at IncomingMessage.onEnd (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/node_modules/raw-body/index.js:280:7)\n    at IncomingMessage.emit (node:events:514:28)\n    at endReadableNT (node:internal/streams/readable:1408:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Cannot read properties of undefined (reading 'price')\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Total price does not match the calculated price based on product prices and quantity.","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Total price does not match the calculated price based on product prices and quantity.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order., totalPrice: Total price does not match the calculated price based on product prices and quantity.","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order., totalPrice: Total price does not match the calculated price based on product prices and quantity.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order.","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: product: Please enter the product you want to order.","stack":"ValidationError: Order validation failed: product: Please enter the product you want to order.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.","stack":"ValidationError: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.","stack":"ValidationError: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.","stack":"ValidationError: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.","stack":"ValidationError: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.","stack":"ValidationError: Order validation failed: quantity: Please enter the quantity of the product., product: Please enter the product you want to order.\n    at Document.invalidate (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:3187:32)\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/document.js:2980:17\n    at /home/esmael/Documents/Project/Express/express_shop/server/node_modules/mongoose/lib/schemaType.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17"}
{"level":"error","message":"Error: order not found","stack":"Error: order not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/orderController.js:68:21\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Insufficient  stock","stack":"Error: Insufficient  stock\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/cartController.js:15:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cannot read properties of null (reading 'cart')","stack":"TypeError: Cannot read properties of null (reading 'cart')\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/cartController.js:32:6\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cannot read properties of null (reading 'cart')","stack":"TypeError: Cannot read properties of null (reading 'cart')\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/cartController.js:32:6\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Cannot read properties of null (reading 'cart')","stack":"TypeError: Cannot read properties of null (reading 'cart')\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/cartController.js:32:6\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: User not found","stack":"Error: User not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/cartController.js:34:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: User not found","stack":"Error: User not found\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/cartController.js:34:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Error: Can't find /api/v1/users/658a0b086ae294ab2ba88947 on this server!","stack":"Error: Can't find /api/v1/users/658a0b086ae294ab2ba88947 on this server!\n    at /home/esmael/Documents/Project/Express/express_shop/server/app.js:47:8\n    at Layer.handle [as handle_request] (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:144:13)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at next (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:140:7)\n    at Route.dispatch (/home/esmael/Documents/Project/Express/express_shop/server/node_modules/express/lib/router/route.js:114:3)"}
{"level":"error","message":"Error: Unauthorized - Invalid token","stack":"Error: Unauthorized - Invalid token\n    at /home/esmael/Documents/Project/Express/express_shop/server/src/controllers/authController.js:125:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
